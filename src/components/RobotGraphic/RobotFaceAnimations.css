/**
 * @fileoverview CSS animations for RobotFace component
 * Provides smooth transitions and micro-animations for different robot expressions
 */

/* Base animation styles */
.robot-face-svg {
  transition: all 300ms ease-in-out;
}

.robot-animated .robot-head {
  transition: fill 300ms ease-in-out;
}

/* Eye blinking animation */
@keyframes robot-blink {
  0%, 90%, 100% {
    transform: scaleY(1);
  }
  95% {
    transform: scaleY(0.1);
  }
}

.robot-eye-blink {
  animation: robot-blink 3s infinite ease-in-out;
  transform-origin: center;
}

/* Thinking animations */
@keyframes robot-thinking-pulse {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

.robot-thinking-pulse {
  animation: robot-thinking-pulse 1.5s infinite ease-in-out;
}

.robot-thinking-pulse-delayed {
  animation: robot-thinking-pulse 1.5s infinite ease-in-out;
  animation-delay: 0.3s;
}

.robot-thinking-pulse-delayed-2 {
  animation: robot-thinking-pulse 1.5s infinite ease-in-out;
  animation-delay: 0.6s;
}

/* Talking animations */
@keyframes robot-mouth-talk {
  0%, 100% {
    rx: 8;
    ry: 5;
  }
  25% {
    rx: 6;
    ry: 3;
  }
  50% {
    rx: 10;
    ry: 7;
  }
  75% {
    rx: 7;
    ry: 4;
  }
}

.robot-mouth-animate {
  animation: robot-mouth-talk 0.8s infinite ease-in-out;
}

/* Speech wave animations */
@keyframes robot-speech-wave {
  0%, 100% {
    opacity: 0.3;
    transform: translateX(0);
  }
  50% {
    opacity: 1;
    transform: translateX(-2px);
  }
}

.robot-speech-wave-1 {
  animation: robot-speech-wave 2s infinite ease-in-out;
}

.robot-speech-wave-2 {
  animation: robot-speech-wave 2s infinite ease-in-out;
  animation-delay: 0.3s;
}

.robot-speech-wave-3 {
  animation: robot-speech-wave 2s infinite ease-in-out;
  animation-delay: 0.6s;
}

/* Error indicator animation */
@keyframes robot-error-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.1);
  }
}

.robot-error-pulse {
  animation: robot-error-pulse 1s ease-in-out 3;
}

/* Expression transition animations */
.robot-expression-happy .robot-head {
  fill: var(--robot-happy-bg, #f8fafc);
}

.robot-expression-thinking .robot-head {
  fill: var(--robot-thinking-bg, #fefce8);
}

.robot-expression-talking .robot-head {
  fill: var(--robot-talking-bg, #eff6ff);
}

.robot-expression-concerned .robot-head {
  fill: var(--robot-error-bg, #fef2f2);
}

/* Subtle breathing animation for idle state */
@keyframes robot-subtle-breathing {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

.robot-animated.robot-expression-happy .robot-head {
  animation: robot-subtle-breathing 4s infinite ease-in-out;
  transform-origin: center;
}

/* Accessibility: Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .robot-eye-blink,
  .robot-thinking-pulse,
  .robot-thinking-pulse-delayed,
  .robot-thinking-pulse-delayed-2,
  .robot-mouth-animate,
  .robot-speech-wave-1,
  .robot-speech-wave-2,
  .robot-speech-wave-3,
  .robot-error-pulse,
  .robot-animated.robot-expression-happy .robot-head {
    animation: none;
  }

  .robot-face-svg,
  .robot-animated .robot-head {
    transition: none;
  }
}

/* Theme integration - CSS custom properties for colors */
.robot-face-svg {
  --robot-body-color: var(--color-primary-50, #f8fafc);
  --robot-stroke-color: var(--color-gray-500, #64748b);
  --robot-happy-color: var(--color-primary-600, #059669);
  --robot-thinking-color: var(--color-secondary-600, #d97706);
  --robot-talking-color: var(--color-primary-500, #3b82f6);
  --robot-error-color: var(--color-tertiary-600, #dc2626);
}

/* Size-specific adjustments */
.robot-size-sm .robot-face-svg {
  --animation-scale: 0.8;
}

.robot-size-md .robot-face-svg {
  --animation-scale: 1.0;
}

.robot-size-lg .robot-face-svg {
  --animation-scale: 1.2;
}